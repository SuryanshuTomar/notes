# Array Pointers

## What are Array Pointers?

An array pointer is a pointer that points to an entire array, not just a single element. It's different from a pointer to the first element of an array.

```cpp
int arr[5] = {1, 2, 3, 4, 5};
int (*ptr)[5] = &arr;  // Array pointer - points to entire array
int *ptr2 = arr;       // Element pointer - points to first element
```

## Declaration Syntax

```cpp
data_type (*pointer_name)[array_size] = &array_name;
```

**Key Points:**
- Parentheses around `*pointer_name` are essential
- Array size must be specified
- Use `&` operator with array name

## Examples

### Basic Usage
```cpp
int numbers[3] = {10, 20, 30};
int (*arrPtr)[3] = &numbers;

// Accessing elements
cout << (*arrPtr)[0];  // Output: 10
cout << (*arrPtr)[1];  // Output: 20
```

### 2D Arrays
```cpp
int matrix[2][3] = {{1, 2, 3}, {4, 5, 6}};
int (*ptr)[3] = matrix;  // Points to first row

cout << ptr[0][1];   // Output: 2
cout << ptr[1][2];   // Output: 6
```

## Array Pointer vs Element Pointer

| Array Pointer | Element Pointer |
|---------------|-----------------|
| `int (*p)[5]` | `int *p` |
| Points to entire array | Points to single element |
| `p + 1` moves by entire array size | `p + 1` moves by one element |
| `sizeof(p)` = pointer size | `sizeof(p)` = pointer size |

## Common Mistakes

1. **Missing Parentheses**
    ```cpp
    int *ptr[5];     // Array of pointers (wrong)
    int (*ptr)[5];   // Pointer to array (correct)
    ```

2. **Wrong Size Specification**
    ```cpp
    int arr[5];
    int (*ptr)[3] = &arr;  // Error: size mismatch
    ```

## When to Use Array Pointers

- Passing 2D arrays to functions
- Working with arrays of fixed size
- When you need to point to the entire array structure
- Function parameters for multidimensional arrays

## Function Parameters
```cpp
void printArray(int (*arr)[5], int rows) {
     for(int i = 0; i < rows; i++) {
          for(int j = 0; j < 5; j++) {
                cout << arr[i][j] << " ";
          }
          cout << endl;
     }
}
```

## Array Pointer vs Pointer to First Element
```cpp
int main() {
    int arr[3] = {1, 2, 3};
    int (*arrPtr)[3] = &arr;  // Array pointer
    int *elemPtr = arr;       // Pointer to first element

    cout << (*arrPtr)[0];  // Output: 1
    cout << elemPtr[0];    // Output: 1

    return 0;
}
```

## Traversing Array Pointers
```cpp  
#include <iostream>
using namespace std;

void traverseArray(int (*arr)[5], int size) {
    for(int i = 0; i < size; i++) {
        for(int j = 0; j < 5; j++) {
            // Accessing elements using array pointer by dereferencing
            cout << (*arr)[j] << " "; 
        }
        cout << endl;
        arr++;  // Move to next array
    }
}

int main() {
    int arr[3][5] = {
        {1, 2, 3, 4, 5},
        {6, 7, 8, 9, 10},
        {11, 12, 13, 14, 15}
    };

    traverseArray(arr, 3); // Passing array pointer to function
    return 0;
}

```

## Allocating and Deallocating Array dynamically
```cpp
#include <iostream>
using namespace std;

int main() {
    int rows = 3, cols = 4;
    // Dynamically allocate a 2D array using array pointers
    int **arr = new int* [rows];

    // Initialize the array
    for(int i = 0; i < rows; i++) {
        arr[i] = new int[cols]; // Allocate memory for each row
        for(int j = 0; j < cols; j++) {
            arr[i][j] = i * cols + j + 1; // Fill with some values
        }
    }
    
    // Deallocate memory
    for(int i = 0; i < rows; i++) {
        delete[] arr[i]; // Delete each row
        arr[i] = nullptr; // Set pointer to nullptr after deletion
    }
    delete[] arr;
    arr = nullptr; // Set pointer to nullptr after deletion
    cout << "Memory deallocated." << endl;
    
 return 0;
}